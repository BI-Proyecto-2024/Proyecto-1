<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="description" content="">
        <meta name="author" content="">

        <title>Topic Listing Bootstrap 5 Template</title>

        <!-- CSS FILES -->        
        <link rel="preconnect" href="https://fonts.googleapis.com">
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Open+Sans&display=swap" rel="stylesheet">
                        
        
        <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
        

        <!--
        <link rel="stylesheet" href="bootstrap.min.css">
        <link rel="stylesheet" href="styles.css">
        -->

    </head>
    
    <body id="top">

        <main>

            <nav class="navbar navbar-expand-lg">
                <div class="container">
                    <a class="navbar-brand" href="indexapp.html">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/1/14/UNFPA_logo.svg" alt="Logo" style="height: 40px; margin-right: 10px;">
                        <span>Fondo de Poblaciones de las Naciones Unidas</span>
                    </a>

                    <div class="d-lg-none ms-auto me-4">
                        <a href="#top" class="navbar-icon bi-person smoothscroll"></a>
                    </div>
    
                    
    
                    
                </div>
            </nav>
            

            <section class="hero-section d-flex justify-content-center align-items-center" id="section_1">
                <div class="container">
                    <div class="row">

                        <div class="col-lg-8 col-12 mx-auto">
                            <h1 class="text-white text-center">Análisis de Opiniones Ciudadanas</h1>
                            <h6 class="text-center" style="padding-top: 20px;">Poner fin a la pobreza, proteger el planeta y garantizar que para el 2030 todas las personas disfruten de paz y prosperidad</h6>
                        </div>

                    </div>
                </div>
            </section>


            <section class="featured-section">
                <div class="container">
                    <div class="row justify-content-center">

                        <div class="col-lg-4 col-12 mb-4 mb-lg-0">
                            <div class="custom-block bg-white shadow-lg">
                                    <div class="d-flex">
                                        <div>
                                            <h4 class="mb-2">Sobre el proyecto</h4>

                                            <p class="mb-0" style="padding-top: 6px;">El Fondo de Poblaciones de las Naciones Unidas UNFPA busca identificar problemas y evaluar soluciones actuales, relacionando la información dada por ciudadanos con diferentes Objetivos de Desarrollo Sostenible.</p>
                                            <p class="mb-0" style="padding-top: 6px;">Esta aplicación permite la automatización en el proceso y clasificación de opiniones ciudadanas dentro de 3 ODS específicos mediante técnicas de aprendizaje automático. Así mismo, permite la reentrenación del modelo de clasificación con nuevas opiniones con el objetivo de mantener la precisión del proceso.</p>
                                        </div>
                                    </div>
                            </div>
                        </div>

                        <div class="col-lg-6 col-12">
                            <div class="custom-block bg-white shadow-lg">
                                    <div class="d-flex">
                                        <div>
                                            <h4 class="mb-2">Objetivos de Desarrollo Sostenible</h4>

                                            <div class="container mt-5" style="padding-top: 80px;">
                                                <div class="row align-items-center">
                                                    <div class="col-auto">
                                                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Sustainable_Development_Goal-es-15.jpg/1024px-Sustainable_Development_Goal-es-15.jpg" alt="Descripción de la imagen" class="img-fluid" style="width: 150px; height: 150px; border-radius: 20px;">
                                                    </div>
                                                    <div class="col">
                                                        <h5>ODS 3: Salud y Bienestar</h5>
                                                        <p class="mb-0">Garantizar la vida sana y promover el bienestar para todos en todas las edades.</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="container mt-5" style="padding-top: 70px;">
                                                <div class="row align-items-center">
                                                    <div class="col-auto">
                                                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Sustainable_Development_Goal-es-14.jpg/1024px-Sustainable_Development_Goal-es-14.jpg" alt="Descripción de la imagen" class="img-fluid" style="width: 150px; height: 150px; border-radius: 20px;">
                                                    </div>
                                                    <div class="col">
                                                        <h5>ODS 4: Educación y Calidad</h5>
                                                        <p class="mb-0">Asegurar una educación inclusiva, equitativa y de calidad, y promover oportunidades de aprendizaje durante toda la vida.</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="container mt-5" style="padding-top: 70px;">
                                                <div class="row align-items-center">
                                                    <div class="col-auto">
                                                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Sustainable_Development_Goal-es-13.jpg/1024px-Sustainable_Development_Goal-es-13.jpg" alt="Descripción de la imagen" class="img-fluid" style="width: 150px; height: 150px; border-radius: 20px;">
                                                    </div>
                                                    <div class="col">
                                                        <h5>ODS 5: Igualdad de Género</h5>
                                                        <p class="mb-0">Lograr la igualdad de género y empoderar a todas las mujeres y niñas.</p>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                            </div>
                        </div>

                    </div>
                </div>
            </section>


            <section class="explore-section section-padding" id="section_2">
                <div class="container">
                    <div class="row">

                        <div class="col-12 text-center">
                            <h2 class="mb-4">Opciones</h1>
                        </div>

                    </div>
                </div>

                <div class="container-fluid">
                    <div class="row">
                        <ul class="nav nav-tabs" id="myTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="design-tab" data-bs-toggle="tab" data-bs-target="#design-tab-pane" type="button" role="tab" aria-controls="design-tab-pane" aria-selected="true">Análisis de Opiniones (texto)</button>
                            </li>

                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="designtwo-tab" data-bs-toggle="tab" data-bs-target="#designtwo-tab-pane" type="button" role="tab" aria-controls="designtwo-tab-pane" aria-selected="true">Análisis de Opiniones</button>
                            </li>

                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="marketing-tab" data-bs-toggle="tab" data-bs-target="#marketing-tab-pane" type="button" role="tab" aria-controls="marketing-tab-pane" aria-selected="false">Reentrenamiento del Modelo</button>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="container">
                    <div class="row">

                        <div class="col-12">
                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="designtwo-tab-pane" role="tabpanel" aria-labelledby="designtwo-tab" tabindex="0">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-6 col-12 mb-4 mb-lg-0">
                                            <div class="custom-block bg-white shadow-lg">
                                                <form action="/predict" method="POST" class="custom-form contact-form">
                                                    <div class="form-group form-floating">
                                                        <h5 style="padding-bottom: 10px;">Introducir opinión:</h5>
                                                        <label for="text"></label>
                                                        <textarea name="text" id="text" placeholder="Opinión" class="form-control" rows="5"></textarea>
                                                    </div>
                                            
                                                    
                                            
                                                    <div style="display: flex; justify-content: flex-end; align-items: flex-end;">
                                                        <button type="submit" class="btn custom-btn">Predecir</button>
                                                    </div>
                                                </form>
                                            
                                                {% if prediction %}
                                                <h5>Resultados:</h5>
                                                <div class="mb-0" style="padding: 30px;">
                                                    <h6>Predicciones:</h6>
                                                    <ul>
                                                        {% for pred in prediction['predictions'] %}
                                                            <li>{{ pred }}</li>
                                                        {% endfor %}
                                                    </ul>
                                                    <h6>Probabilidades:</h6>
                                                    <ul>
                                                        {% for prob in prediction['probabilities'] %}
                                                            <li>{{ prob }}</li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                            {% elif error %}
                                                <h5>Error:</h5>
                                                <div class="mb-0" style="padding: 30px;">
                                                    <p>{{ error }}</p>
                                                </div>
                                            {% endif %}
                                            </div>
                                            
                                            
                                        </div>

                                        
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="design-tab-pane" role="tabpanel" aria-labelledby="design-tab" tabindex="0">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-6 col-12 mb-4 mb-lg-0">
                                            <div class="custom-block bg-white shadow-lg">
                                                <form action="/predict" method="POST" class="custom-form contact-form">
                                                    <div class="form-group form-floating">
                                                        <h5 style="padding-bottom: 10px;">Introducir opinión:</h5>
                                                        <label for="text"></label>
                                                        <textarea name="text" id="text" placeholder="Opinión" class="form-control" rows="5"></textarea>
                                                    </div>
                                            
                                                    <div class="form-group form-floating mb-3">
                                                        <h5 style="padding-bottom: 10px;">Subir archivo de opiniones:</h5>
                                                        <label for="opinion_file"></label>
                                                        <!-- Hidden File Input -->
                                                        <input type="file" name="opinion_file" id="opinion_file" class="form-control" style="display: none;">
                                                        <!-- Custom Button to Replace Default "Choose File" Button -->
                                                        <button type="button" class="btn custom-btn custom-border-btn" onclick="document.getElementById('opinion_file').click();">Seleccionar archivo de opiniones</button>
                                                        <!-- Placeholder to Show Selected File Name -->
                                                        <span id="opinion_file_name" class="file-name" style="padding-left: 20px;">Ningún archivo seleccionado</span>
                                                    </div>
                                            
                                                    <div style="display: flex; justify-content: flex-end; align-items: flex-end;">
                                                        <button type="submit" class="btn custom-btn">Predecir</button>
                                                    </div>
                                                </form>
                                            
                                                {% if prediction %}
                                                <h5>Resultados:</h5>
                                                <div class="mb-0" style="padding: 30px;">
                                                    <h6>Predicciones:</h6>
                                                    <ul>
                                                        {% for pred in prediction['predictions'] %}
                                                            <li>{{ pred }}</li>
                                                        {% endfor %}
                                                    </ul>
                                                    <h6>Probabilidades:</h6>
                                                    <ul>
                                                        {% for prob in prediction['probabilities'] %}
                                                            <li>{{ prob }}</li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                            {% elif error %}
                                                <h5>Error:</h5>
                                                <div class="mb-0" style="padding: 30px;">
                                                    <p>{{ error }}</p>
                                                </div>
                                            {% endif %}
                                            </div>
                                            
                                            
                                        </div>

                                        
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="marketing-tab-pane" role="tabpanel" aria-labelledby="marketing-tab" tabindex="0">
                                    <div class="row">
                                        <div class="tab-pane fade show active" id="retrain-tab-pane" role="tabpanel" aria-labelledby="retrain-tab" tabindex="0">
                                            <div class="row">
                                                <div class="col-lg-12 col-md-6 col-12 mb-4 mb-lg-0">
                                                    <div class="custom-block bg-white shadow-lg p-4">
                                                        <form action="/retrain" method="POST" class="custom-form contact-form">
                                                            <div class="form-group form-floating mb-3">
                                                                <h5 style="padding-bottom: 10px;">Subir archivo de textos:</h5>
                                                                <label for="texts_file"></label>
                                                                <!-- Hidden File Input -->
                                                                <input type="file" name="labels_file" id="labels_file" class="form-control" required style="display: none;">
                                                                
                                                                <!-- Custom Button to Replace Default "Choose File" Button -->
                                                                <button type="button" class="btn custom-btn custom-border-btn" onclick="document.getElementById('labels_file').click();">Seleccionar archivo de etiquetas</button>
                                                                
                                                                <!-- Placeholder to Show Selected File Name -->
                                                                <span id="labels_file_name" class="file-name" style="padding-left: 20px;">Ningún archivo seleccionado</span>
                                                            </div>
                                                            <div style="display: flex; justify-content: flex-end;">
                                                                <button type="submit" class="btn custom-btn">Reentrenar</button>
                                                            </div>
                                                        </form>
                                        
                                                        {% if metrics %}
                                                            <div class="mb-0">
                                                                <h5>Métricas obtenidas:</h5>
                                                                <div style="padding: 30px;">
                                                                    <ul>
                                                                        <li><b>Precisión:</b> {{ metrics.precision }}</li>
                                                                        <li><b>Recall:</b> {{ metrics.recall }}</li>
                                                                        <li><b>F1 Score:</b> {{ metrics.f1 }}</li>
                                                                    </ul>
                                                                </div>
                                                                
                                                            </div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        </div>
                                  </div>

                                
                            </div>

                    </div>
                </div>
            </section>


            
        </main>




        
        <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/jquery.sticky.js') }}"></script>
        <script src="{{ url_for('static', filename='js/click-scroll.js') }}"></script>
        <script src="{{ url_for('static', filename='js/custom.js') }}"></script>
        <script>
            document.getElementById('texts_file').addEventListener('change', function() {
                const fileName = this.files[0] ? this.files[0].name : 'Ningún archivo seleccionado';
                document.getElementById('texts_file_name').textContent = fileName;
            });
        
            document.getElementById('labels_file').addEventListener('change', function() {
                const fileName = this.files[0] ? this.files[0].name : 'Ningún archivo seleccionado';
                document.getElementById('labels_file_name').textContent = fileName;
            });
        </script>
        
        <!-- JAVASCRIPT FILES
        <script src="jquery.min.js"></script>
        <script src="bootstrap.bundle.min.js"></script>
        <script src="jquery.sticky.js"></script>
        <script src="click-scroll.js"></script>
        <script src="custom.js"></script>
        <script>
            document.getElementById('texts_file').addEventListener('change', function() {
                const fileName = this.files[0] ? this.files[0].name : 'Ningún archivo seleccionado';
                document.getElementById('texts_file_name').textContent = fileName;
            });
        
            document.getElementById('labels_file').addEventListener('change', function() {
                const fileName = this.files[0] ? this.files[0].name : 'Ningún archivo seleccionado';
                document.getElementById('labels_file_name').textContent = fileName;
            });
        </script>
        -->


    </body>
</html>
